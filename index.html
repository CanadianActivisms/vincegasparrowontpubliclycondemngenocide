<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>vincegasparrowontpubliclycondemngenocide.com — Public record of statements</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Newsreader:wght@700&display=swap" rel="stylesheet">
  <style>
    :root{
      --ink:#0e1116; --sub:#5e6470; --line:#e6e8ee; --bg:#f5f6fb;
      --card:#ffffff; --accent:#2f66ff; --accent-ink:#0c2e99;
      --chip:#eef3ff; --chipb:#d7e3ff; --soft:#fbfcff;
      --snark:#ff3b81;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

    /* ===== Brand / nav ===== */
    .brandbar{position:sticky; top:0; z-index:20; background:#fff; border-bottom:1px solid var(--line); transition:box-shadow .18s ease}
    .brandbar.is-stuck{ box-shadow:0 8px 24px rgba(16,24,40,.07) }
    .brandwrap{max-width:1120px;margin:0 auto;padding:12px 20px;display:flex;align-items:center;justify-content:space-between}
    .wordmark{font-family:Newsreader,serif;font-size:22px;font-weight:700;letter-spacing:.06em}
    .nav a{color:var(--ink);text-decoration:none;margin-left:18px;font-size:14px;font-weight:500}
    .nav a:hover{text-decoration:underline}

    /* ===== Parody hero / counters ===== */
    .heroField{
      background:radial-gradient(1200px 420px at 15% -10%, #fff 0, #ffeaf3 55%, #fdf7ff 100%);
      border-bottom:1px solid var(--line);
    }
    .hero{max-width:1120px;margin:0 auto;padding:48px 20px 28px}
    .snark{
      font-family:Newsreader,serif;
      text-transform:uppercase; letter-spacing:.08em;
      font-size:clamp(22px,3.8vw,34px); line-height:1.05;
      margin:0 0 12px; color:#1a1d24;
    }
    .snark em{color:var(--snark); font-style:normal}
    .clockwrap{
      display:grid; grid-template-columns:1fr; gap:14px; margin:12px 0 8px;
    }
    .clock{
      background:#fff; border:1px solid var(--line); border-radius:16px;
      padding:14px; box-shadow:0 1px 2px rgba(16,24,40,.04);
      display:grid; grid-template-columns:1fr auto; gap:10px; align-items:center;
    }
    .clock h2{margin:0; font-size:16px}
    .bigtime{
      font-variant-numeric:tabular-nums; font-weight:800;
      font-size:clamp(22px,4.5vw,40px); letter-spacing:.02em;
      color:#111;
    }
    .subtime{font-size:12px;color:var(--sub)}
    .quoteBox{border-left:4px solid var(--accent); padding:10px 14px; background:var(--soft); border-radius:10px; margin:10px 0; color:#1f2630}

    .ctaRow{display:flex; flex-wrap:wrap; gap:10px; margin-top:14px}
    .btn{
      display:inline-block; text-decoration:none; cursor:pointer;
      padding:10px 14px; border-radius:999px; font-weight:700; font-size:14px;
      border:1px solid transparent;
    }
    .btn.primary{background:var(--snark); color:#fff}
    .btn.ghost{background:#fff; border-color:var(--line); color:#111}

    /* ===== Layout / cards ===== */
    .wrap{max-width:1120px;margin:18px auto 28px;padding:0 20px;display:grid;grid-template-columns:1fr;gap:20px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:18px;padding:16px;box-shadow:0 1px 2px rgba(16,24,40,.04)}
    .section{background:var(--card);border:1px solid var(--line);border-radius:18px;padding:18px}
    .h2{font-weight:700;margin:0 0 10px;font-size:18px}
    .muted{color:var(--sub);font-size:13px}

    /* ===== “Not-so-fun facts” ===== */
    .facts{display:grid; grid-template-columns:1fr; gap:10px}
    .fact{background:var(--soft); border:1px solid var(--line); border-radius:12px; padding:12px}
    .fact b{display:block; margin-bottom:4px}

    /* ===== Timeline items ===== */
    .item{border:1px solid var(--line);border-radius:16px;padding:14px}
    .meta{display:flex;gap:10px;align-items:center;color:var(--sub);font-size:12px}
    .meta .dot{width:5px;height:5px;background:#c8ccd6;border-radius:50%}
    .title{font-weight:700;margin-top:6px;font-size:16px}
    .quote{font-style:italic;color:#2e3137;font-size:14px;margin:6px 0}
    .tags{margin-top:10px;display:flex;gap:6px;flex-wrap:wrap}
    .tag{display:inline-block;font-size:11px;background:#f6f7fb;border:1px solid var(--line);border-radius:999px;padding:2px 8px}
    .links{margin-top:10px;display:flex;gap:14px;font-size:12px}
    .links a{color:var(--accent);text-decoration:none}
    .links a:hover{text-decoration:underline}

    /* Platform icons (compact) */
    .meta .platform{display:inline-flex;align-items:center;gap:6px}
    .meta .platform svg{width:16px;height:16px;display:inline-block;vertical-align:-2px}

    /* Carousel + dots + lightbox trigger */
    .carousel{position:relative;margin-top:10px;background:#fff;border:1px solid var(--line);border-radius:12px;overflow:hidden}
    .carousel img{width:100%;height:auto;display:block;cursor:zoom-in}
    .cnav{position:absolute;inset:0;display:flex;align-items:center;justify-content:space-between;pointer-events:none}
    .cbtn{pointer-events:auto;background:rgba(255,255,255,.9);border:1px solid var(--line);width:34px;height:34px;border-radius:999px;margin:8px;display:flex;align-items:center;justify-content:center;cursor:pointer}
    .cdots{position:absolute;bottom:8px;left:0;right:0;display:flex;justify-content:center;gap:6px}
    .cdot{width:7px;height:7px;border-radius:50%;background:#cfd6e5}
    .cdot.active{background:#2f66ff}

    /* Search (bottom) */
    .controls{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
    .search{flex:1;min-width:260px;display:flex;align-items:center;gap:8px;background:#fff;border:1px solid var(--line);border-radius:12px;padding:10px 12px}
    .search input{border:0;outline:0;flex:1;font-size:14px}
    .chipbar{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .chip{font-size:12px;background:#f3f5f9;border:1px solid var(--line);border-radius:999px;padding:6px 10px;cursor:pointer;user-select:none}
    .chip.active{background:#e7efff;border-color:#cfe0ff;color:#0a2d8f}

    /* Lightbox */
    .lb{position:fixed;inset:0;background:rgba(10,14,22,.92);display:none;align-items:center;justify-content:center;z-index:1000}
    .lb img{max-width:92vw;max-height:92vh;border-radius:12px}
    .lb.close{cursor:zoom-out}

    /* Footer */
    footer{border-top:1px solid var(--line);padding:18px 20px;color:var(--sub);font-size:12px}
    .footwrap{max-width:1120px;margin:0 auto}

    /* Responsive tweaks */
    @media (min-width:820px){
      .clockwrap{grid-template-columns:1fr 1fr}
      .facts{grid-template-columns:1fr 1fr}
    }
  </style>
</head>
<body>
  <!-- Brand -->
  <div class="brandbar" id="brandbar">
    <div class="brandwrap">
      <div class="wordmark">vincegasparrowontpubliclycondemngenocide.com</div>
      <nav class="nav">
        <a href="#clocks">Clocks</a>
        <a href="#facts">Not-so-fun facts</a>
        <a href="#un-context">UN Context</a>
        <a href="#methodology">Methodology</a>
        <a href="#timeline">Timeline</a>
        <a href="#search">Search</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </div>

  <!-- Parody hero with live counters -->
  <div class="heroField" id="clocks">
    <section class="hero">
      <p class="snark">How many more days of <em>genocide</em> will it take, Vince?</p>

      <div class="clockwrap">
        <!-- Main genocide-declared counter -->
        <div class="clock" aria-live="polite">
          <h2>Days since the UN declared Israel’s actions a genocide</h2>
          <div>
            <div id="t1" class="bigtime">— : — : — : —</div>
            <div class="subtime">Days : Hours : Minutes : Seconds (counting since <b>Sept 16, 2025</b>)</div>
          </div>
        </div>

        <!-- Albanese report counter -->
        <div class="clock" aria-live="polite">
          <h2>Days since the Albanese report</h2>
          <div>
            <div id="t2" class="bigtime">— : — : — : —</div>
            <div class="subtime">Days : Hours : Minutes : Seconds (counting since <b>Mar 25, 2024</b>)</div>
          </div>
        </div>
      </div>

      <div class="quoteBox">
        “…reasonable grounds to believe that the threshold indicating that Israel has committed genocide has been met.”
      </div>

      <p class="muted" style="margin-top:10px">
        MP Vince Gasparro refuses to publicly acknowledge or condemn the genocide being committed by Israel against Palestinians in Gaza. How many more dead families, children shot in the head, bombed hospitals and dead journalists will it take for him to publicly mention the word — and how many more to condemn it? <b>Only TIME will tell.</b>
      </p>
      <p class="muted">
        We’re told he’s “just a humble domestic MP,” which apparently excludes genocide — even while Canada exports arms. Oddly, “domestic” seems to include regular posts about October 7th (remind us where in Canada that was again?). And while the Irish musicians are clearly Public Enemy #1, there’s no time to post about Gaza. Don’t worry: returning IDF soldiers with recent “work experience” are surely zero risk… right?
      </p>
      <p class="muted">
        Want to hear from the man himself when he plans to acknowledge and condemn the genocide Canada is complicit in? Send him a note — and mention MP Jenny Kwan’s <i>No More Loopholes Act</i>, to stop arms transfers routed through the U.S.
      </p>

      <div class="ctaRow">
        <!-- Update the TO address if needed -->
        <a class="btn primary"
           href="mailto:vince.gasparro@parl.gc.ca?subject=Please%20acknowledge%20and%20condemn%20the%20genocide%20in%20Gaza&body=Dear%20Mr.%20Gasparro%2C%0D%0A%0D%0AThe%20UN%20has%20found%20genocidal%20acts%20in%20Gaza.%20Please%20publicly%20acknowledge%20and%20condemn%20this%20genocide%2C%20and%20support%20MP%20Jenny%20Kwan%E2%80%99s%20No%20More%20Loopholes%20Act%20to%20stop%20arms%20flows.%0D%0A%0D%0AThank%20you.">Email Vince Gasparro</a>

        <!-- This opens a compose window you can address to your own MP -->
        <a class="btn ghost"
           href="mailto:?subject=Please%20acknowledge%20and%20condemn%20the%20genocide%20in%20Gaza&body=Dear%20MP%2C%0D%0A%0D%0AThe%20UN%20has%20found%20genocidal%20acts%20in%20Gaza.%20Please%20publicly%20acknowledge%20and%20condemn%20this%20genocide%2C%20and%20support%20measures%20to%20halt%20arms%20transfers.%0D%0A%0D%0AThank%20you.">Email your MP</a>
      </div>
    </section>
  </div>

  <!-- Not-so-fun facts -->
  <div class="wrap" id="facts">
    <section class="section">
      <div class="h2">Not-so-fun facts about the genocide in Gaza</div>
      <p class="muted">Feel free to forward any of these to Vince in case he’s been busy protecting Canada from Irish musicians.</p>
      <div class="facts" style="margin-top:10px">
        <div class="fact"><b>Crimes against humanity & war crimes.</b> The UN Commission of Inquiry found extermination, torture, rape, persecution, starvation as a method of warfare, and other inhumane acts.</div>
        <div class="fact"><b>Genocidal acts identified.</b> Destruction of reproductive capacity and deliberately inflicting conditions of life to destroy the group meet underlying acts in the Genocide Convention.</div>
        <div class="fact"><b>60,199 Palestinians killed</b> (Oct 2023–Jul 2025), including <b>18,430 children</b> and <b>9,735 women</b>. Life expectancy plunged by <b>34.9 years</b> in the first year.</div>
        <div class="fact"><b>Women & children.</b> By mid-July 2025, at least <b>46%</b> of the verified dead were women and children; in some strikes, fatalities were <i>only</i> women and children.</div>
        <div class="fact"><b>Hospitals attacked.</b> WHO logged <b>498 strikes</b> on healthcare (to 30 Jul 2024), directly killing patients — including children and pregnant women.</div>
        <div class="fact"><b>Shot while seeking food.</b> At least <b>1,373</b> Palestinians were killed while trying to get aid, including at GHF distribution points and along convoys.</div>
        <div class="fact"><b>Civilian majority.</b> Israeli intelligence assessments indicate roughly <b>83%</b> of those killed were civilians.</div>
        <div class="fact"><b>Humanitarian & press casualties.</b> Killed: ~<b>1,400</b> healthcare workers, <b>408</b> aid workers, and at least <b>170</b> journalists.</div>
      </div>
    </section>
  </div>

  <!-- ===== Everything you already had (context, methodology, timeline, search, contact) ===== -->
  <div class="wrap">
    <section class="section" id="un-context">
      <div class="h2">UN context (what the official record says)</div>
      <div class="pilllist">
        <div class="pill"><span class="b">June 2024 findings.</span><span>The UN Human Rights Council’s Commission of Inquiry reported <b>reasonable grounds</b> to believe both Hamas and Israeli authorities committed <b>war crimes</b>. It further found Israeli authorities committed <b>crimes against humanity</b> (including persecution and other inhumane acts) in the occupied Palestinian territory.</span></div>
        <div class="pill"><span class="b">2025 genocide analysis.</span><span>The Commission later assessed that multiple <b>genocidal acts</b> were being committed in Gaza—killing, causing serious harm, and deliberately inflicting conditions of life calculated to destroy a population—and documented rhetoric by senior officials evidencing <b>genocidal intent</b>.</span></div>
        <div class="pill"><span class="b">Obligations.</span><span>Under the Genocide Convention, states have a <b>duty to prevent and punish</b> genocide and to avoid complicit support—political or material—regardless of any other party’s violations.</span></div>
        <div class="pill"><span class="b">Why this matters here.</span><span>When an MP repeatedly labels anti-Zionist advocacy as “antisemitic” while omitting Palestinian civilian harm and UN findings, it narrows the Overton window: <b>criticism of a state</b> or ideology is chilled as “hate,” while the <b>documented killing of civilians</b> goes unaddressed.</span></div>
      </div>
      <p class="muted" style="margin-top:10px">Primary documents are cited in the site footer.</p>
    </section>

    <section class="section" id="methodology">
      <div class="h2">Methodology</div>
      <div class="pilllist">
        <div class="pill"><span class="b">Scope.</span><span>Only <b>public posts</b> by the MP or reputable media coverage. Quotes are verbatim; links and screenshots provided.</span></div>
        <div class="pill"><span class="b">Sourcing.</span><span>Original URL + independent archive (when available). Screenshots include handle + timestamp where possible.</span></div>
        <div class="pill"><span class="b">Search terms.</span><span>“Israel”, “Gaza”, “Palestinian(s)”, “genocide”, “antisemitism/anti-Semitism”, “anti-Zionism”, “ceasefire”, “Nova Exhibit”, “UJA”.</span></div>
        <div class="pill"><span class="b">Corrections.</span><span>Corrections welcome: send a URL + date. <b>Factual errors</b> are corrected transparently in a public changelog.</span></div>
      </div>
    </section>

    <section class="card" id="timeline">
      <div class="h2">Evidence timeline</div>
      <div id="list"></div>
      <div id="empty" class="muted" style="display:none;margin-top:8px">No results. Clear filters or change your search.</div>
    </section>

    <section class="section" id="search">
      <div class="h2">Search & filters</div>
      <p class="muted" style="margin-top:-4px;margin-bottom:10px">Use the controls below to filter the timeline above. Your filters apply instantly.</p>
      <div class="controls" style="margin-bottom:8px">
        <div class="search">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16"><path fill="#7a7f89" d="M15.5 14h-.79l-.28-.27A6.47 6.47 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16a6.47 6.47 0 0 0 4.23-1.57l.27.28v.79L20 21.5 21.5 20l-6-6zM4 9.5C4 6.46 6.46 4 9.5 4S15 6.46 15 9.5 12.54 15 9.5 15 4 12.54 4 9.5z"/></svg>
          <input id="q" type="search" placeholder="Search headline, quote, summary, tags…" />
        </div>
        <button id="clear" style="border:1px solid var(--line);background:#fff;border-radius:10px;padding:8px 10px;cursor:pointer">Clear filters</button>
      </div>
      <div id="chipbar" class="chipbar"></div>
    </section>

    <section class="section" id="contact">
      <div class="h2">Contact</div>
      <p class="muted">Corrections or additions:</p>
      <p><a href="mailto:corrections@vincegasparrowontpubliclycondemngenocide.com" style="display:inline-block;background:var(--accent);color:#fff;border-radius:999px;padding:8px 12px;text-decoration:none">Email the editor</a></p>
    </section>
  </div>

  <footer>
    <div class="footwrap">
      Key sources: UN HRC COI press release (12 Jun 2024) and report A/HRC/56/26; UN HRC report A/HRC/60/CRP/3 (advance version). This site presents <i>verifiable facts</i> and <i>analysis</i> on matters of public interest.
    </div>
  </footer>

  <!-- Lightbox -->
  <div id="lb" class="lb close" onclick="this.style.display='none'"><img id="lbimg" src="" alt="preview"></div>

  <script>
    /* sticky shadow on brand bar */
    const bb=document.getElementById('brandbar');
    addEventListener('scroll',()=>bb.classList.toggle('is-stuck', scrollY>6),{passive:true});

    /* ===== live clocks =====
       We treat the reference moments as UTC midnight to avoid TZ drift.
       Change the ISO strings below if you want specific times. */
    const REF_GENOCIDE = new Date('2025-09-16T00:00:00Z').getTime();
    const REF_ALBANESE = new Date('2024-03-25T00:00:00Z').getTime();

    function fmt(ms){
      const s = Math.floor(ms/1000);
      const d = Math.floor(s/86400);
      const h = Math.floor((s%86400)/3600);
      const m = Math.floor((s%3600)/60);
      const ss= s%60;
      const pad = n => String(n).padStart(2,'0');
      return `${d} : ${pad(h)} : ${pad(m)} : ${pad(ss)}`;
    }
    function tick(){
      const now = Date.now();
      const t1 = Math.max(0, now - REF_GENOCIDE);
      const t2 = Math.max(0, now - REF_ALBANESE);
      const el1 = document.getElementById('t1');
      const el2 = document.getElementById('t2');
      if(el1) el1.textContent = fmt(t1);
      if(el2) el2.textContent = fmt(t2);
    }
    tick(); setInterval(tick, 1000);

    /* ===== timeline/search you already had ===== */
    const $ = s => document.querySelector(s);
    const listEl = $('#list'), chipbar = $('#chipbar'), qEl = $('#q'), clearBtn = $('#clear');
    const lb = $('#lb'), lbimg = $('#lbimg');

    const icon = (name) => {
      const n = (name||'').toLowerCase();
      if(n.includes('instagram')) return `<svg viewBox="0 0 24 24"><path fill="#e1306c" d="M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5m0 2a3 3 0 00-3 3v10a3 3 0 003 3h10a3 3 0 003-3V7a3 3 0 00-3-3z"/><circle cx="12" cy="12" r="3.5" fill="#e1306c"/><circle cx="17.5" cy="6.5" r="1.2" fill="#e1306c"/></svg>`;
      if(n==='x') return `<svg viewBox="0 0 24 24"><path fill="#111" d="M14.7 3H18l-6.9 8.1L19 21h-6.3l-5-5.9L2.8 21H0l7.6-8.9L0 3h6.4l4.6 5.4L14.7 3z"/></svg>`;
      if(n.includes('facebook')) return `<svg viewBox="0 0 24 24"><path fill="#1877f2" d="M22 12.06C22 6.48 17.52 2 12 2S2 6.48 2 12.06C2 17.1 5.66 21.22 10.44 22v-7.04H7.9v-2.9h2.54v-2.2c0-2.5 1.5-3.88 3.78-3.88 1.1 0 2.24.2 2.24.2v2.46h-1.26c-1.24 0-1.63.77-1.63 1.56v1.86h2.78l-.44 2.9h-2.34V22C18.34 21.22 22 17.1 22 12.06z"/></svg>`;
      return '';
    };

    const state = { items: [], tags: new Set(), activeTags: new Set(), query: '' };

    function carouselHTML(imgs){
      if(!imgs.length) return '';
      if(imgs.length===1){
        return `<div class="carousel"><img class="shot" src="./screenshots/${imgs[0]}" alt="Screenshot" onerror="this.style.display='none'"></div>`;
      }
      const dots = imgs.map((_,i)=>`<span class="cdot ${i===0?'active':''}"></span>`).join('');
      return `
        <div class="carousel" data-imgs='${JSON.stringify(imgs)}' data-idx="0">
          <img class="shot" src="./screenshots/${imgs[0]}" alt="Screenshot">
          <div class="cnav">
            <button class="cbtn prev" aria-label="Previous">‹</button>
            <button class="cbtn next" aria-label="Next">›</button>
          </div>
          <div class="cdots">${dots}</div>
        </div>`;
    }

    function bindCarousel(root){
      root.querySelectorAll('.carousel').forEach(car=>{
        const imgs = JSON.parse(car.dataset.imgs || '[]');
        if(imgs.length<=1) return;
        const imgEl = car.querySelector('img');
        const dots = [...car.querySelectorAll('.cdot')];
        const setIdx = (i)=>{
          car.dataset.idx = String(i);
          imgEl.src = './screenshots/' + imgs[i];
          dots.forEach((d,j)=> d.classList.toggle('active', j===i));
        };
        car.querySelector('.prev').onclick = (e)=>{ e.stopPropagation(); const i=(+car.dataset.idx+imgs.length-1)%imgs.length; setIdx(i); };
        car.querySelector('.next').onclick = (e)=>{ e.stopPropagation(); const i=(+car.dataset.idx+1)%imgs.length; setIdx(i); };
        imgEl.addEventListener('click', ()=>{ lbimg.src = imgEl.src; lb.style.display='flex'; });
      });
    }

    const render = () => {
      const q = state.query.trim().toLowerCase();
      const active = state.activeTags;
      const filtered = state.items.filter(it => {
        const hay = [it.headline,it.quote,it.summary,(it.tags||[]).join(' ')].join(' ').toLowerCase();
        const matchesQ = q ? hay.includes(q) : true;
        const matchesTags = active.size ? (it.tags||[]).some(t => active.has(t)) : true;
        return matchesQ && matchesTags;
      });

      listEl.innerHTML = '';
      if(!filtered.length){ document.getElementById('empty').style.display='block'; return; }
      document.getElementById('empty').style.display='none';

      filtered.forEach(it => {
        const imgs = Array.isArray(it.screenshot_files) ? it.screenshot_files :
                     (it.screenshot_file ? [it.screenshot_file] : []);
        const card = document.createElement('div');
        card.className = 'item';
        card.innerHTML = `
          <div class="meta">
            <span>${new Date(it.date).toLocaleDateString()}</span>
            <span class="dot"></span>
            <span class="platform">${icon(it.platform)} <span>${it.platform||''}</span></span>
          </div>
          <div class="title">${it.headline||''}</div>
          ${it.quote ? `<div class="quote">“${it.quote}”</div>` : ``}
          ${carouselHTML(imgs)}
          ${it.summary ? `<div class="muted" style="margin-top:10px"><b>Summary:</b> ${it.summary}</div>` : ``}
          ${it.commentary ? `<div class="muted" style="margin-top:6px"><b>Analysis:</b> ${it.commentary}</div>` : ``}
          <div class="tags">${(it.tags||[]).map(t=>`<span class="tag">${t}</span>`).join('')}</div>
          <div class="links">
            ${it.url ? `<a href="${it.url}" target="_blank" rel="noreferrer">Source ↗</a>` : ``}
            ${it.archived_url ? `<a href="${it.archived_url}" target="_blank" rel="noreferrer">Archive ↗</a>` : ``}
            ${(!it.url && !it.archived_url) ? `<span class="muted">Links pending</span>` : ``}
          </div>
        `;
        listEl.appendChild(card);
      });

      bindCarousel(listEl);

      listEl.querySelectorAll('.carousel:not([data-imgs]) img.shot').forEach(img=>{
        img.addEventListener('click', ()=>{ lbimg.src = img.src; lb.style.display='flex'; });
      });
    };

    const buildChips = () => {
      chipbar.innerHTML = '';
      [...state.tags].sort().forEach(tag => {
        const el = document.createElement('span');
        el.className = 'chip' + (state.activeTags.has(tag) ? ' active':'');
        el.textContent = tag;
        el.onclick = () => {
          if(state.activeTags.has(tag)) state.activeTags.delete(tag); else state.activeTags.add(tag);
          buildChips(); render();
        };
        chipbar.appendChild(el);
      });
    };

    const dedupeByUrl = (items) => {
      const seen = new Set();
      return items.filter(it => {
        const u = (it.url||'').trim(); if(!u) return true;
        if(seen.has(u)) return false; seen.add(u); return true;
      });
    };

    const setLastUpdated = (items) => {
      const dates = items.map(x => new Date(x.date)).filter(d => !isNaN(d));
      if(!dates.length) return;
      const max = new Date(Math.max.apply(null, dates));
      const $badge = document.querySelector('#clocks .muted ~ .ctaRow') ? document.getElementById('lastUpdated') : null;
      const b = document.getElementById('lastUpdated');
      if(b) b.textContent = 'Last updated: ' + max.toLocaleDateString();
    };

    async function main(){
      try{
        const res = await fetch('./evidence.json', { cache:'no-store' });
        if(!res.ok) throw new Error('Could not load evidence.json');
        let items = await res.json();
        items = dedupeByUrl(items).sort((a,b)=> new Date(b.date) - new Date(a.date));
        items.forEach(it => (it.tags||[]).forEach(t => state.tags.add(t)));
        state.items = items; setLastUpdated(items); buildChips(); render();

        let t; qEl.addEventListener('input', e=>{
          clearTimeout(t); t=setTimeout(()=>{ state.query = e.target.value; render(); }, 140);
        });
        clearBtn.addEventListener('click', ()=>{
          state.query=''; state.activeTags.clear(); qEl.value='';
          buildChips(); render();
          window.scrollTo({top:0,behavior:'smooth'});
        });
      }catch(e){
        listEl.innerHTML = `<div class="muted">Failed to load evidence. ${e.message}</div>`;
      }
    }
    main();
  </script>
</body>
</html>
